<!DOCTYPE HTML>
<!--
	MedCityAI - Research Leaderboard
-->
<html lang="en">
	<head>
		<title>Research Leaderboard - MedCityAI</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
		<style>
			/* Hero Section - matching index.html */
			.hero-section {
				background: linear-gradient(120deg, #2568BE 0%, #1B4C7D 100%);
				min-height: 340px;
				display: flex;
				align-items: center;
				position: relative;
				overflow: hidden;
				margin-top: 70px;
				z-index: 1;
			}
			
			.hero-bg-blobs {
				position: absolute;
				top: 0;
				left: 0;
				width: 100%;
				height: 100%;
				z-index: 0;
				pointer-events: none;
				opacity: 1;
				transition: opacity 0.5s;
			}
			
			.hero-content {
				max-width: 1200px;
				margin: 0 auto;
				padding: 36px 20px;
				position: relative;
				z-index: 2;
				text-align: center;
			}
			
			.hero-content h1 {
				color: #fff;
				font-size: 3.5em;
				margin-bottom: 15px;
				text-shadow: 0 4px 18px rgba(0,0,0,0.28);
			}
			
			.hero-content .subtitle {
				color: #e0e0e0;
				font-size: 1.3em;
				margin-bottom: 10px;
			}
			
			.hero-content .stats {
				color: #e0e0e0;
				font-size: 1.1em;
				margin-top: 20px;
			}
			
			.trophy-icons {
				font-size: 3em;
				margin: 20px 0;
			}
			
			.trophy-icons i {
				margin: 0 15px;
				animation: float 3s ease-in-out infinite;
			}
			
			.trophy-icons i:nth-child(1) {
				color: #FFD700;
				animation-delay: 0s;
			}
			
			.trophy-icons i:nth-child(2) {
				color: #C0C0C0;
				animation-delay: 0.5s;
			}
			
			.trophy-icons i:nth-child(3) {
				color: #CD7F32;
				animation-delay: 1s;
			}
			
			@keyframes float {
				0%, 100% { transform: translateY(0px); }
				50% { transform: translateY(-20px); }
			}
			
			/* Leaderboard Container */
			.leaderboard-container {
				max-width: 1200px;
				margin: 40px auto;
				padding: 0 20px;
			}
			
			/* Section Styles */
			.leaderboard-section {
				margin: 60px 0;
				padding: 40px;
				background: white;
				border-radius: 15px;
				box-shadow: 0 5px 20px rgba(0,0,0,0.08);
			}
			
			.section-header {
				text-align: center;
				margin-bottom: 40px;
			}
			
			.section-header h2 {
				font-size: 2.5em;
				color: #2568BE;
				margin-bottom: 10px;
				display: flex;
				align-items: center;
				justify-content: center;
				gap: 15px;
			}
			
			.section-header .emoji {
				font-size: 1.2em;
			}
			
			.section-header p {
				color: #666;
				font-size: 1.1em;
			}
			
			.two-column-grid {
				display: grid;
				grid-template-columns: 1fr 1fr;
				gap: 30px;
				margin-top: 30px;
			}
			
			.list-container {
				background: #f8f9fa;
				border-radius: 12px;
				padding: 25px;
			}
			
			.list-container h3 {
				color: #2568BE;
				font-size: 1.5em;
				margin-bottom: 20px;
				text-align: center;
				border-bottom: 3px solid #2568BE;
				padding-bottom: 10px;
			}
			
			.ranked-list {
				list-style: none;
				padding: 0;
				margin: 0;
			}
			
			.ranked-item {
				display: flex;
				justify-content: space-between;
				align-items: center;
				padding: 10px 12px;
				margin: 6px 0;
				background: white;
				border-radius: 8px;
			}
			
			.rank-number {
				font-size: 1.2em;
				font-weight: bold;
				color: #2568BE;
				min-width: 35px;
			}
			
			.rank-number.medal {
				font-size: 1.3em;
			}
			
			.item-name {
				flex: 1;
				font-weight: 600;
				color: #333;
				margin: 0 12px;
				font-size: 0.95em;
			}
			
			.item-count {
				font-size: 1.1em;
				font-weight: bold;
				color: #667eea;
				background: #f0f0f0;
				padding: 4px 12px;
				border-radius: 20px;
			}
			
			/* Bar Chart Styles */
			.bar-chart {
				margin: 30px 0;
			}
			
			.bar-item {
				margin: 15px 0;
			}
			
			.bar-label {
				display: flex;
				justify-content: space-between;
				margin-bottom: 8px;
				font-weight: 600;
				color: #333;
			}
			
			.bar-container {
				width: 100%;
				height: 30px;
				background: #e9ecef;
				border-radius: 15px;
				overflow: hidden;
				position: relative;
			}
			
			.bar-fill {
				height: 100%;
				background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
				border-radius: 15px;
				transition: width 1s ease;
				display: flex;
				align-items: center;
				justify-content: flex-end;
				padding-right: 10px;
				color: white;
				font-weight: bold;
			}
			
			@media screen and (max-width: 968px) {
				.two-column-grid {
					grid-template-columns: 1fr;
				}
				
				.section-header h2 {
					font-size: 1.8em;
				}
			}
			
			/* Podium Section */
			.podium {
				display: flex;
				justify-content: center;
				align-items: stretch;
				margin: 40px 0 60px;
				gap: 20px;
			}
			
			.podium-place {
				flex: 1;
				max-width: 280px;
				text-align: center;
				position: relative;
			}
			
			.podium-card {
				background: linear-gradient(135deg, #fff 0%, #f8f9fa 100%);
				border-radius: 20px;
				padding: 30px 20px;
				box-shadow: 0 10px 30px rgba(0,0,0,0.15);
				position: relative;
				transition: transform 0.3s ease;
				min-height: 320px;
				display: flex;
				flex-direction: column;
				justify-content: center;
			}
			
			.podium-card:hover {
				transform: translateY(-10px);
			}
			
			.podium-place.first .podium-card {
				background: linear-gradient(135deg, #fff9e6 0%, #fffbf0 100%);
				border: 3px solid #FFD700;
				box-shadow: 0 15px 40px rgba(255, 215, 0, 0.3);
			}
			
			.podium-place.second .podium-card {
				background: linear-gradient(135deg, #f5f5f5 0%, #fafafa 100%);
				border: 3px solid #C0C0C0;
			}
			
			.podium-place.third .podium-card {
				background: linear-gradient(135deg, #fff5f0 0%, #fff8f5 100%);
				border: 3px solid #CD7F32;
			}
			
			.trophy-badge {
				font-size: 3.5em;
				margin: 0 auto 15px;
			}
			
			.podium-place.first .trophy-badge {
				color: #FFD700;
			}
			
			.podium-place.second .trophy-badge {
				color: #C0C0C0;
			}
			
			.podium-place.third .trophy-badge {
				color: #CD7F32;
			}
			
			.author-name {
				font-size: 1.4em;
				font-weight: bold;
				color: #333;
				margin-bottom: 8px;
			}
			
			.department {
				font-size: 0.95em;
				color: #666;
				margin-bottom: 15px;
				min-height: 40px;
			}
			
			.paper-count {
				font-size: 2.5em;
				font-weight: bold;
				color: #667eea;
				margin-bottom: 5px;
			}
			
			.paper-label {
				font-size: 0.9em;
				color: #888;
				text-transform: uppercase;
				letter-spacing: 1px;
			}
			
			/* Leaderboard Table */
			.leaderboard-table {
				background: #fff;
				border-radius: 15px;
				overflow: hidden;
				box-shadow: 0 5px 20px rgba(0,0,0,0.1);
			}
			
			.table-header {
				background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
				color: #fff;
				padding: 20px;
				display: grid;
				grid-template-columns: 80px 1fr 2fr 150px;
				gap: 15px;
				font-weight: bold;
				font-size: 1.1em;
			}
			
			.table-row {
				display: grid;
				grid-template-columns: 80px 1fr 2fr 150px;
				gap: 15px;
				padding: 20px;
				border-bottom: 1px solid #e9ecef;
				align-items: center;
				transition: background 0.2s ease;
			}
			
			.table-row:hover {
				background: #f8f9fa;
			}
			
			.table-row:last-child {
				border-bottom: none;
			}
			
			.rank-cell {
				font-size: 1.3em;
				font-weight: bold;
				color: #667eea;
				text-align: center;
			}
			
			.rank-cell.top-10 {
				color: #764ba2;
			}
			
			.author-cell {
				font-weight: 600;
				color: #333;
				font-size: 1.05em;
			}
			
			.department-cell {
				color: #666;
				font-size: 0.95em;
			}
			
			.count-cell {
				text-align: center;
				font-size: 1.2em;
				font-weight: bold;
				color: #667eea;
			}
			
			/* Celebration elements */
			.celebration-badge {
				display: inline-block;
				margin-left: 8px;
				font-size: 0.9em;
			}
			
			/* Responsive */
			@media screen and (max-width: 968px) {
				.podium {
					flex-direction: column;
					align-items: center;
				}
				
				.podium-place {
					max-width: 100%;
					width: 100%;
				}
				
				.table-header,
				.table-row {
					grid-template-columns: 60px 1fr 120px;
					gap: 10px;
					font-size: 0.9em;
					padding: 15px;
				}
				
				.department-cell {
					display: none;
				}
				
				.hero-leaderboard h1 {
					font-size: 2.2em;
				}
			}
			
			/* Top Navigation Bar - matching index.html */
			.top-bar {
				background: #ffffff;
				color: #2c3e50;
				padding: 15px 0;
				font-size: 14px;
				position: fixed;
				top: 0;
				left: 0;
				width: 100%;
				z-index: 1001;
				box-shadow: 0 2px 10px rgba(0,0,0,0.1);
				border-bottom: 1px solid #eee;
			}
			.top-bar-content {
				max-width: 1200px;
				margin: 0 auto;
				display: flex;
				justify-content: space-between;
				align-items: center;
				padding: 0 20px;
			}
			.logo {
				display: flex;
				align-items: center;
			}
			.logo img {
				height: 40px;
				width: auto;
			}
			.nav-links {
				display: flex;
				gap: 30px;
				align-items: center;
			}
			.nav-links a {
				color: #2c3e50;
				text-decoration: none;
				font-weight: 500;
				font-size: 15px;
				transition: color 0.3s ease;
			}
			.nav-links a:hover {
				color: #3498db;
			}
			.nav-links a[aria-current="page"] {
				color: #3498db;
			}
			.cta-button {
				background: linear-gradient(135deg, #3498db, #2980b9);
				color: white;
				padding: 10px 20px;
				border-radius: 25px;
				text-decoration: none;
				font-weight: 600;
				font-size: 14px;
				transition: all 0.3s ease;
			}
			.cta-button:hover {
				transform: translateY(-1px);
				box-shadow: 0 4px 12px rgba(52, 152, 219, 0.3);
			}
			.menu-icon {
				display: none;
				flex-direction: column;
				cursor: pointer;
			}
			.menu-icon div {
				width: 25px;
				height: 3px;
				background: #2c3e50;
				margin: 3px 0;
				transition: 0.3s;
			}
		</style>
	</head>
	<body class="landing is-preload">

		<!-- Page Wrapper -->
		<div id="page-wrapper">
			<!-- Modern Medical Navigation Header -->
			<nav class="top-bar" role="navigation" aria-label="Main navigation">
				<div class="top-bar-content">
					<div class="logo">
						<img src="images/medcityai_logo1.png" alt="MedCityAI Logo" style="height:48px; width:auto;" />
					</div>
					<div class="nav-links" role="menubar">
						<a href="index.html" role="menuitem">New Today</a>
						<a href="search.html" role="menuitem">Search</a>
						<a href="featured.html" role="menuitem">Featured</a>
						<a href="leaderboard.html" role="menuitem" aria-current="page">Leaderboard</a>
						<a href="about.html" role="menuitem">About</a>
						<a href="contact.html" role="menuitem">Contact</a>
					</div>
					<div style="display: flex; align-items: center; gap: 15px;">
						<a href="#subscribe" class="cta-button">Subscribe</a>
						<button class="menu-icon" aria-label="Toggle mobile menu" aria-expanded="false" aria-controls="mobile-menu">
							<span class="sr-only">Menu</span>
							<div aria-hidden="true"></div>
							<div aria-hidden="true"></div>
							<div aria-hidden="true"></div>
						</button>
					</div>
				</div>
			</nav>

			<!-- Hero Section -->
			<section class="hero-section" aria-label="Hero banner">
				<!-- Animated SVG background blobs -->
				<svg class="hero-bg-blobs" width="100%" height="500" viewBox="0 0 1440 500" aria-hidden="true" role="presentation">
					<defs>
						<linearGradient id="blobGradient1" x1="0" y1="0" x2="1" y2="1">
							<stop offset="0%" stop-color="#3498db" stop-opacity="0.18"/>
							<stop offset="100%" stop-color="#b6c7e0" stop-opacity="0.12"/>
						</linearGradient>
						<linearGradient id="blobGradient2" x1="0" y1="1" x2="1" y2="0">
							<stop offset="0%" stop-color="#e3eaf3" stop-opacity="0.16"/>
							<stop offset="100%" stop-color="#2980b9" stop-opacity="0.10"/>
						</linearGradient>
					</defs>
					<g>
						<circle id="blob1" cx="330" cy="150" r="280" fill="url(#blobGradient1)">
							<animate attributeName="cx" values="330;1110;330" dur="15s" repeatCount="indefinite"/>
							<animate attributeName="cy" values="150;350;150" dur="13.125s" repeatCount="indefinite"/>
						</circle>
						<circle id="blob2" cx="270" cy="120" r="220" fill="url(#blobGradient2)">
							<animate attributeName="cx" values="270;1170;270" dur="16.875s" repeatCount="indefinite"/>
							<animate attributeName="cy" values="120;380;120" dur="11.25s" repeatCount="indefinite"/>
						</circle>
						<circle id="blob3" cx="450" cy="250" r="350" fill="url(#blobGradient1)" opacity="0.7">
							<animate attributeName="cx" values="450;990;450" dur="18.75s" repeatCount="indefinite"/>
							<animate attributeName="cy" values="250;450;250" dur="15s" repeatCount="indefinite"/>
						</circle>
					</g>
				</svg>
				<div class="hero-content">
					<h1>2025 Leaderboard</h1>
					<p class="subtitle">Celebrating Rochester's Most Prolific Researchers. Year to Date Counter, Updated Monthly.</p>
					<div class="stats">
						<strong>65,676</strong> unique authors | <strong>11,097</strong> PubMed indexed papers
					</div>
				</div>
			</section>

			<!-- New Three-Section Layout -->
			<div class="leaderboard-container">
				
				<!-- Section 1: Leaderboard -->
				<div class="leaderboard-section">
					<div class="section-header">
						<h2>Leaderboard</h2>
						<p>Rochester's research champions making waves in 2025</p>
					</div>
					
					<div class="two-column-grid">
						<!-- Most Prolific Authors -->
						<div class="list-container">
							<h3>ðŸŒŸ Top 10 Most Prolific</h3>
							<ul class="ranked-list">
								<li class="ranked-item top-3">
									<span class="rank-number medal">ðŸ¥‡</span>
									<span class="item-name">Waleed Brinjikji</span>
									<span class="item-count">92</span>
								</li>
								<li class="ranked-item top-3">
									<span class="rank-number medal">ðŸ¥ˆ</span>
									<span class="item-name">Barry Borlaug</span>
									<span class="item-count">91</span>
								</li>
								<li class="ranked-item top-3">
									<span class="rank-number medal">ðŸ¥‰</span>
									<span class="item-name">Clifford Jack</span>
									<span class="item-count">87</span>
								</li>
								<li class="ranked-item">
									<span class="rank-number">4</span>
									<span class="item-name">Sherief Ghozy</span>
									<span class="item-count">87</span>
								</li>
								<li class="ranked-item">
									<span class="rank-number">5</span>
									<span class="item-name">Ronald Petersen</span>
									<span class="item-count">82</span>
								</li>
								<li class="ranked-item">
									<span class="rank-number">6</span>
									<span class="item-name">David Kallmes</span>
									<span class="item-count">80</span>
								</li>
								<li class="ranked-item">
									<span class="rank-number">7</span>
									<span class="item-name">Shaji Kumar</span>
									<span class="item-count">77</span>
								</li>
								<li class="ranked-item">
									<span class="rank-number">8</span>
									<span class="item-name">Mohamad Bydon</span>
									<span class="item-count">71</span>
								</li>
								<li class="ranked-item">
									<span class="rank-number">9</span>
									<span class="item-name">Abhishek Deshmukh</span>
									<span class="item-count">69</span>
								</li>
								<li class="ranked-item">
									<span class="rank-number">10</span>
									<span class="item-name">Matthew Abdel</span>
									<span class="item-count">68</span>
								</li>
							</ul>
						</div>
						
						<!-- First Authors -->
						<div class="list-container">
							<h3>Top 10 First Authors</h3>
							<ul class="ranked-list">
								<li class="ranked-item top-3">
									<span class="rank-number medal">ðŸ¥‡</span>
									<span class="item-name">Ryan D'Souza</span>
									<span class="item-count">23</span>
								</li>
								<li class="ranked-item top-3">
									<span class="rank-number medal">ðŸ¥ˆ</span>
									<span class="item-name">Yogesh Reddy</span>
									<span class="item-count">19</span>
								</li>
								<li class="ranked-item top-3">
									<span class="rank-number medal">ðŸ¥‰</span>
									<span class="item-name">Pranjal Rai</span>
									<span class="item-count">17</span>
								</li>
								<li class="ranked-item">
									<span class="rank-number">4</span>
									<span class="item-name">Richard Sassun</span>
									<span class="item-count">16</span>
								</li>
								<li class="ranked-item">
									<span class="rank-number">5</span>
									<span class="item-name">Alexander Egbe</span>
									<span class="item-count">15</span>
								</li>
								<li class="ranked-item">
									<span class="rank-number">6</span>
									<span class="item-name">Michael Camilleri</span>
									<span class="item-count">14</span>
								</li>
								<li class="ranked-item">
									<span class="rank-number">7</span>
									<span class="item-name">Siddharth Agarwal</span>
									<span class="item-count">14</span>
								</li>
								<li class="ranked-item">
									<span class="rank-number">8</span>
									<span class="item-name">Tung Tran</span>
									<span class="item-count">13</span>
								</li>
								<li class="ranked-item">
									<span class="rank-number">9</span>
									<span class="item-name">Ajay Madhavan</span>
									<span class="item-count">13</span>
								</li>
								<li class="ranked-item">
									<span class="rank-number">10</span>
									<span class="item-name">Chelsey Hoffmann</span>
									<span class="item-count">13</span>
								</li>
							</ul>
						</div>
					</div>
				</div>
				
				<!-- Section 2: Specialties -->
				<div class="leaderboard-section">
					<div class="section-header">
						<h2>Specialties</h2>
						<p>Departments driving innovation and interdisciplinary excellence</p>
					</div>
					
					<!-- Top Departments -->
					<div class="list-container" style="margin-bottom: 40px;">
						<h3>Top 10 Departments</h3>
						<ul class="ranked-list">
							<li class="ranked-item top-3">
								<span class="rank-number medal">ðŸ¥‡</span>
								<span class="item-name">Radiology</span>
								<span class="item-count">2,301</span>
							</li>
							<li class="ranked-item top-3">
								<span class="rank-number medal">ðŸ¥ˆ</span>
								<span class="item-name">Cardiovascular Medicine</span>
								<span class="item-count">2,238</span>
							</li>
							<li class="ranked-item top-3">
								<span class="rank-number medal">ðŸ¥‰</span>
								<span class="item-name">Hematology</span>
								<span class="item-count">1,824</span>
							</li>
							<li class="ranked-item">
								<span class="rank-number">4</span>
								<span class="item-name">Neurology</span>
								<span class="item-count">1,745</span>
							</li>
							<li class="ranked-item">
								<span class="rank-number">5</span>
								<span class="item-name">Laboratory Medicine and Pathology</span>
								<span class="item-count">1,633</span>
							</li>
							<li class="ranked-item">
								<span class="rank-number">6</span>
								<span class="item-name">Orthopedic Surgery</span>
								<span class="item-count">1,320</span>
							</li>
							<li class="ranked-item">
								<span class="rank-number">7</span>
								<span class="item-name">Gastroenterology and Hepatology</span>
								<span class="item-count">1,016</span>
							</li>
							<li class="ranked-item">
								<span class="rank-number">8</span>
								<span class="item-name">Quantitative Health Sciences</span>
								<span class="item-count">1,010</span>
							</li>
							<li class="ranked-item">
								<span class="rank-number">9</span>
								<span class="item-name">Neurologic Surgery</span>
								<span class="item-count">707</span>
							</li>
							<li class="ranked-item">
								<span class="rank-number">10</span>
								<span class="item-name">Radiation Oncology</span>
								<span class="item-count">640</span>
							</li>
						</ul>
					</div>
					
					<!-- Multidisciplinary Collaboration -->
					<div class="list-container">
						<h3>Multidisciplinary Collaboration</h3>
						<p style="text-align: center; color: #666; margin-bottom: 25px;">Breaking down silos: how many departments work together</p>
						<div class="bar-chart">
							<div class="bar-item">
								<div class="bar-label">
									<span>1 Department</span>
									<span>8,353 publications</span>
								</div>
								<div class="bar-container">
									<div class="bar-fill" style="width: 100%;"></div>
								</div>
							</div>
							<div class="bar-item">
								<div class="bar-label">
									<span>2 Departments</span>
									<span>1,582 publications</span>
								</div>
								<div class="bar-container">
									<div class="bar-fill" style="width: 19%;"></div>
								</div>
							</div>
							<div class="bar-item">
								<div class="bar-label">
									<span>3 Departments</span>
									<span>665 publications</span>
								</div>
								<div class="bar-container">
									<div class="bar-fill" style="width: 8%;"></div>
								</div>
							</div>
							<div class="bar-item">
								<div class="bar-label">
									<span>4 Departments</span>
									<span>260 publications</span>
								</div>
								<div class="bar-container">
									<div class="bar-fill" style="width: 3.1%;"></div>
								</div>
							</div>
							<div class="bar-item">
								<div class="bar-label">
									<span>5+ Departments</span>
									<span>222 publications</span>
								</div>
								<div class="bar-container">
									<div class="bar-fill" style="width: 2.7%;"></div>
								</div>
							</div>
						</div>
					</div>
				</div>
				
				<!-- Section 3: Global Perspectives -->
				<div class="leaderboard-section">
					<div class="section-header">
						<h2>Collaboration Network</h2>
						<p>Rochester's collaboration network across states and nations</p>
					</div>
					
					<div class="two-column-grid">
						<!-- Top States -->
						<div class="list-container">
							<h3>Top 10 US States</h3>
							<p style="text-align: center; color: #666; margin-bottom: 20px; font-size: 0.9em;">(Non-Minnesota collaborations)</p>
							<ul class="ranked-list">
								<li class="ranked-item top-3">
									<span class="rank-number medal">ðŸ¥‡</span>
									<span class="item-name">California</span>
									<span class="item-count">1,666</span>
								</li>
								<li class="ranked-item top-3">
									<span class="rank-number medal">ðŸ¥ˆ</span>
									<span class="item-name">Florida</span>
									<span class="item-count">1,506</span>
								</li>
								<li class="ranked-item top-3">
									<span class="rank-number medal">ðŸ¥‰</span>
									<span class="item-name">New York</span>
									<span class="item-count">1,439</span>
								</li>
								<li class="ranked-item">
									<span class="rank-number">4</span>
									<span class="item-name">Massachusetts</span>
									<span class="item-count">1,232</span>
								</li>
								<li class="ranked-item">
									<span class="rank-number">5</span>
									<span class="item-name">Texas</span>
									<span class="item-count">1,019</span>
								</li>
								<li class="ranked-item">
									<span class="rank-number">6</span>
									<span class="item-name">Arizona</span>
									<span class="item-count">980</span>
								</li>
								<li class="ranked-item">
									<span class="rank-number">7</span>
									<span class="item-name">Maryland</span>
									<span class="item-count">948</span>
								</li>
								<li class="ranked-item">
									<span class="rank-number">8</span>
									<span class="item-name">Pennsylvania</span>
									<span class="item-count">920</span>
								</li>
								<li class="ranked-item">
									<span class="rank-number">9</span>
									<span class="item-name">Washington</span>
									<span class="item-count">906</span>
								</li>
								<li class="ranked-item">
									<span class="rank-number">10</span>
									<span class="item-name">Ohio</span>
									<span class="item-count">843</span>
								</li>
							</ul>
						</div>
						
						<!-- Top Countries -->
						<div class="list-container">
							<h3>Top 10 Countries</h3>
							<p style="text-align: center; color: #666; margin-bottom: 20px; font-size: 0.9em;">(International collaborations)</p>
							<ul class="ranked-list">
								<li class="ranked-item top-3">
									<span class="rank-number medal">ðŸ¥‡</span>
									<span class="item-name">Canada</span>
									<span class="item-count">632</span>
								</li>
								<li class="ranked-item top-3">
									<span class="rank-number medal">ðŸ¥ˆ</span>
									<span class="item-name">Italy</span>
									<span class="item-count">483</span>
								</li>
								<li class="ranked-item top-3">
									<span class="rank-number medal">ðŸ¥‰</span>
									<span class="item-name">Germany</span>
									<span class="item-count">427</span>
								</li>
								<li class="ranked-item">
									<span class="rank-number">4</span>
									<span class="item-name">United Kingdom</span>
									<span class="item-count">397</span>
								</li>
								<li class="ranked-item">
									<span class="rank-number">5</span>
									<span class="item-name">France</span>
									<span class="item-count">337</span>
								</li>
								<li class="ranked-item">
									<span class="rank-number">6</span>
									<span class="item-name">India</span>
									<span class="item-count">325</span>
								</li>
								<li class="ranked-item">
									<span class="rank-number">7</span>
									<span class="item-name">Spain</span>
									<span class="item-count">290</span>
								</li>
								<li class="ranked-item">
									<span class="rank-number">8</span>
									<span class="item-name">Australia</span>
									<span class="item-count">271</span>
								</li>
								<li class="ranked-item">
									<span class="rank-number">9</span>
									<span class="item-name">Switzerland</span>
									<span class="item-count">219</span>
								</li>
								<li class="ranked-item">
									<span class="rank-number">10</span>
									<span class="item-name">Belgium</span>
									<span class="item-count">206</span>
								</li>
							</ul>
						</div>
					</div>
				</div>

			</div>

			<div id="authorModal" class="author-modal author-modal-bg" role="dialog" aria-modal="true" aria-labelledby="authorModalTitle" aria-hidden="true">
				<div class="author-modal-content" role="document">
					<div class="author-modal-header">
						<h3 id="authorModalTitle">Author Publications</h3>
						<button class="author-modal-close" id="authorModalCloseBtn" aria-label="Close author publications modal">&times;</button>
					</div>
					<div id="authorStats" class="author-stats" style="display: none;">
					<h4 id="authorFullName" style="font-size: 1.5em; margin-bottom: 20px; color: #2c3e50;"></h4>
						<div class="author-stats-grid">
							<div class="author-stat-item">
								<div class="author-stat-label">Total Publications</div>
								<div class="author-stat-value" id="authorPubCount">0</div>
							</div>
							<div class="author-stat-item">
								<div class="author-stat-label">Primary Department</div>
								<div class="author-stat-value" id="authorDepartment" style="font-size: 1.1em;">â€”</div>
							</div>
						</div>
						<div class="author-stats-header" id="authorBibHeader" style="margin-top: 24px; padding-top: 20px; border-top: 1px solid rgba(255,255,255,0.2); font-size: 1.1em;">Recent Publications</div>
					</div>
					<div id="authorModalLoading" class="author-modal-loading" style="display: none;" role="status" aria-live="polite">
						<div class="spinner" aria-hidden="true"></div>
						<p>Loading publications...</p>
					</div>
					<ol id="authorBibliography" class="author-bibliography" aria-label="List of author publications"></ol>
				</div>
			</div>

			<!-- Footer -->
			<footer id="footer">
				<div class="inner">
					<section>
						<h2>Get in touch</h2>
						<form method="post" action="#">
							<div class="fields">
								<div class="field half">
									<input type="text" name="name" id="name" placeholder="Name" />
								</div>
								<div class="field half">
									<input type="email" name="email" id="email" placeholder="Email" />
								</div>
								<div class="field">
									<textarea name="message" id="message" placeholder="Message"></textarea>
								</div>
							</div>
							<ul class="actions">
								<li><input type="submit" value="Send" class="primary" /></li>
							</ul>
						</form>
					</section>
					<section>
						<h2>Follow</h2>
						<ul class="icons">
							<li><a href="#" class="icon brands style2 fa-twitter"><span class="label">Twitter</span></a></li>
							<li><a href="#" class="icon brands style2 fa-facebook-f"><span class="label">Facebook</span></a></li>
							<li><a href="#" class="icon brands style2 fa-instagram"><span class="label">Instagram</span></a></li>
							<li><a href="#" class="icon brands style2 fa-github"><span class="label">GitHub</span></a></li>
							<li><a href="#" class="icon solid style2 fa-phone"><span class="label">Phone</span></a></li>
							<li><a href="#" class="icon solid style2 fa-envelope"><span class="label">Email</span></a></li>
						</ul>
					</section>
					<ul class="copyright">
						<li>&copy; MedCityAI. All rights reserved</li><li>Design: <a href="http://html5up.net">HTML5 UP</a></li>
					</ul>
				</div>
			</footer>

		</div>

	<!-- Scripts -->
	<script src="assets/js/jquery.min.js"></script>
	<script src="assets/js/browser.min.js"></script>
	<script src="assets/js/breakpoints.min.js"></script>
	<script src="assets/js/util.js"></script>
	<script src="assets/js/main.js"></script>

	<script>
	// Load and parse leaderboard data from CSV
	async function loadLeaderboardData() {
		try {
			const response = await fetch('./database/leaderboard/leaderboard_analytics.csv');
			const text = await response.text();
			const lines = text.split('\n');
			
			const data = {
				totalPapers: 0,
				uniqueAuthors: 0,
				prolificAuthors: [],
				firstAuthors: [],
				departments: [],
				collaboration: [],
				states: [],
				countries: []
			};
			
			let currentSection = '';
			
			for (let i = 0; i < lines.length; i++) {
				const line = lines[i].trim();
				
				// Parse header info
				if (line.startsWith('Total Papers Analyzed:')) {
					data.totalPapers = parseInt(line.split(':')[1].trim());
				} else if (line.startsWith('Unique Authors:')) {
					data.uniqueAuthors = parseInt(line.split(':')[1].trim());
				}
				
				// Detect sections
				if (line.includes('TOP 10 MOST PROLIFIC AUTHORS')) {
					currentSection = 'prolific';
					i++; // Skip header row
				} else if (line.includes('TOP 10 FIRST AUTHORS')) {
					currentSection = 'first';
					i++; // Skip header row
				} else if (line.includes('TOP 10 DEPARTMENTS')) {
					currentSection = 'departments';
					i++; // Skip header row
				} else if (line.includes('MULTIDISCIPLINARY COLLABORATION')) {
					currentSection = 'collaboration';
					i++; // Skip header row
				} else if (line.includes('TOP 10 NON-MINNESOTA US STATES')) {
					currentSection = 'states';
					i++; // Skip header row
				} else if (line.includes('TOP 10 NON-USA COUNTRIES')) {
					currentSection = 'countries';
					i++; // Skip header row
				} else if (line && currentSection && !line.startsWith('Rank') && !line.startsWith('Number')) {
					// Parse data rows
					const parts = line.split(',');
					if (parts.length >= 2) {
						const rank = parts[0];
						
						if (currentSection === 'prolific' && parts.length >= 3) {
							const author = parts[1].replace(/"/g, '').trim();
							const count = parseInt(parts[2]);
							data.prolificAuthors.push({ rank, author, count });
						} else if (currentSection === 'first' && parts.length >= 3) {
							const author = parts[1].replace(/"/g, '').trim();
							const count = parseInt(parts[2]);
							data.firstAuthors.push({ rank, author, count });
						} else if (currentSection === 'departments' && parts.length >= 3) {
							const department = parts[1].replace(/"/g, '').trim();
							const count = parseInt(parts[2]);
							data.departments.push({ rank, department, count });
						} else if (currentSection === 'collaboration') {
							const deptCount = parts[0].trim();
							const pubCount = parseInt(parts[1]);
							data.collaboration.push({ deptCount, pubCount });
						} else if (currentSection === 'states' && parts.length >= 3) {
							const state = parts[1].replace(/"/g, '').trim();
							const count = parseInt(parts[2]);
							data.states.push({ rank, state, count });
						} else if (currentSection === 'countries' && parts.length >= 3) {
							const country = parts[1].replace(/"/g, '').trim();
							const count = parseInt(parts[2]);
							data.countries.push({ rank, country, count });
						}
					}
				}
			}
			
			return data;
		} catch (error) {
			console.error('Error loading leaderboard data:', error);
			return null;
		}
	}
	
	function getMedalEmoji(rank) {
		return rank;
	}
	
	function formatNumber(num) {
		return num.toLocaleString();
	}
	
	function renderLeaderboardLists(data) {
		// Update hero stats
		const heroStats = document.querySelector('.hero-content .stats');
		if (heroStats && data.uniqueAuthors && data.totalPapers) {
			heroStats.innerHTML = `<strong>${formatNumber(data.uniqueAuthors)}</strong> unique authors | <strong>${formatNumber(data.totalPapers)}</strong> PubMed indexed papers`;
		}
		
		// Render Most Prolific Authors
		const prolificList = document.querySelector('.list-container:has(h3:contains("Most Prolific")) .ranked-list');
		if (prolificList && data.prolificAuthors.length > 0) {
			prolificList.innerHTML = data.prolificAuthors.map(item => {
				const isTop3 = parseInt(item.rank) <= 3;
				const rankDisplay = getMedalEmoji(item.rank);
				const medalClass = parseInt(item.rank) <= 3 ? 'medal' : '';
				return `
					<li class="ranked-item ${isTop3 ? 'top-3' : ''}">
						<span class="rank-number ${medalClass}">${rankDisplay}</span>
						<span class="item-name">${item.author}</span>
						<span class="item-count">${item.count}</span>
					</li>
				`;
			}).join('');
		}
		
		// Render First Authors
		const firstAuthorsList = document.querySelector('.list-container:has(h3:contains("First Authors")) .ranked-list');
		if (firstAuthorsList && data.firstAuthors.length > 0) {
			firstAuthorsList.innerHTML = data.firstAuthors.map(item => {
				const isTop3 = parseInt(item.rank) <= 3;
				const rankDisplay = getMedalEmoji(item.rank);
				const medalClass = parseInt(item.rank) <= 3 ? 'medal' : '';
				return `
					<li class="ranked-item ${isTop3 ? 'top-3' : ''}">
						<span class="rank-number ${medalClass}">${rankDisplay}</span>
						<span class="item-name">${item.author}</span>
						<span class="item-count">${item.count}</span>
					</li>
				`;
			}).join('');
		}
		
		// Render Departments
		const departmentsList = document.querySelectorAll('.list-container:has(h3:contains("Departments")) .ranked-list')[0];
		if (departmentsList && data.departments.length > 0) {
			departmentsList.innerHTML = data.departments.map(item => {
				const isTop3 = parseInt(item.rank) <= 3;
				const rankDisplay = getMedalEmoji(item.rank);
				const medalClass = parseInt(item.rank) <= 3 ? 'medal' : '';
				return `
					<li class="ranked-item ${isTop3 ? 'top-3' : ''}">
						<span class="rank-number ${medalClass}">${rankDisplay}</span>
						<span class="item-name">${item.department}</span>
						<span class="item-count">${formatNumber(item.count)}</span>
					</li>
				`;
			}).join('');
		}
		
		// Render Collaboration Chart
		if (data.collaboration.length > 0) {
			const maxPubs = Math.max(...data.collaboration.map(c => c.pubCount));
			const chartContainer = document.querySelector('.bar-chart');
			if (chartContainer) {
				chartContainer.innerHTML = data.collaboration.map(item => {
					const percentage = (item.pubCount / maxPubs * 100).toFixed(1);
					return `
						<div class="bar-item">
							<div class="bar-label">
								<span>${item.deptCount}</span>
								<span>${formatNumber(item.pubCount)} publications</span>
							</div>
							<div class="bar-container">
								<div class="bar-fill" style="width: ${percentage}%;"></div>
							</div>
						</div>
					`;
				}).join('');
			}
		}
		
		// Render States
		const statesList = document.querySelector('.list-container:has(h3:contains("US States")) .ranked-list');
		if (statesList && data.states.length > 0) {
			statesList.innerHTML = data.states.map(item => {
				const isTop3 = parseInt(item.rank) <= 3;
				const rankDisplay = getMedalEmoji(item.rank);
				const medalClass = parseInt(item.rank) <= 3 ? 'medal' : '';
				return `
					<li class="ranked-item ${isTop3 ? 'top-3' : ''}">
						<span class="rank-number ${medalClass}">${rankDisplay}</span>
						<span class="item-name">${item.state}</span>
						<span class="item-count">${formatNumber(item.count)}</span>
					</li>
				`;
			}).join('');
		}
		
		// Render Countries
		const countriesList = document.querySelector('.list-container:has(h3:contains("Countries")) .ranked-list');
		if (countriesList && data.countries.length > 0) {
			countriesList.innerHTML = data.countries.map(item => {
				const isTop3 = parseInt(item.rank) <= 3;
				const rankDisplay = getMedalEmoji(item.rank);
				const medalClass = parseInt(item.rank) <= 3 ? 'medal' : '';
				// Handle "UK" -> "United Kingdom" for display
				const displayName = item.country === 'UK' ? 'United Kingdom' : item.country;
				return `
					<li class="ranked-item ${isTop3 ? 'top-3' : ''}">
						<span class="rank-number ${medalClass}">${rankDisplay}</span>
						<span class="item-name">${displayName}</span>
						<span class="item-count">${formatNumber(item.count)}</span>
					</li>
				`;
			}).join('');
		}
		
		// Re-attach click handlers to new author names
		attachAuthorClickHandlers();
	}
	
	function attachAuthorClickHandlers() {
		const authorNames = document.querySelectorAll('.item-name');
		authorNames.forEach(authorElement => {
			// Only make it clickable if it's in the author sections (not departments, states, countries)
			const container = authorElement.closest('.list-container');
			if (container) {
				const heading = container.querySelector('h3');
				if (heading && (heading.textContent.includes('Prolific') || heading.textContent.includes('First Authors'))) {
					authorElement.style.cursor = 'pointer';
					authorElement.addEventListener('click', function() {
						const authorName = this.textContent.trim();
						// Convert "Last, First" to "First Last" for PubMed search
						const nameParts = authorName.split(',').map(p => p.trim());
						const searchName = nameParts.length === 2 ? `${nameParts[1]} ${nameParts[0]}` : authorName;
						if (searchName) {
							showAuthorBibliography(searchName);
						}
					});
				}
			}
		});
	}
	
	// Author bibliography modal functions
	async function showAuthorBibliography(authorName) {
		const modal = document.getElementById('authorModal');
		const title = document.getElementById('authorModalTitle');
		const loading = document.getElementById('authorModalLoading');
		const bibliography = document.getElementById('authorBibliography');
		const statsDiv = document.getElementById('authorStats');
		
		// Show modal and loading state
		modal.style.display = 'flex';
		title.textContent = '';
		loading.style.display = 'block';
		bibliography.innerHTML = '';
		statsDiv.style.display = 'none';
		
		try {
			// Build query for this author (all publications)
			const query = `${authorName}[Author]`;
			
			// First, get total count
			const countUrl = `https://eutils.ncbi.nlm.nih.gov/entrez/eutils/esearch.fcgi?db=pubmed&term=${encodeURIComponent(query)}&retmode=json&retmax=0`;
			const countResponse = await fetch(countUrl);
			const countData = await countResponse.json();
			const totalCount = parseInt(countData.esearchresult.count);
			
			if (totalCount === 0) {
				title.textContent = authorName;
				bibliography.innerHTML = '<li style="color: #7f8c8d; text-align: center; padding: 40px;">No publications found for this author.</li>';
				loading.style.display = 'none';
				return;
			}
			
			// Search PubMed for most recent 100
			const searchUrl = `https://eutils.ncbi.nlm.nih.gov/entrez/eutils/esearch.fcgi?db=pubmed&term=${encodeURIComponent(query)}&retmax=100&retmode=json&sort=pub+date`;
			const searchResponse = await fetch(searchUrl);
			const searchData = await searchResponse.json();
			
			const articleIds = searchData.esearchresult.idlist;
			
			// Fetch article details
			const fetchUrl = `https://eutils.ncbi.nlm.nih.gov/entrez/eutils/efetch.fcgi?db=pubmed&id=${articleIds.join(',')}&retmode=xml`;
			const fetchResponse = await fetch(fetchUrl);
			const xmlText = await fetchResponse.text();
			
			// Parse XML
			const parser = new DOMParser();
			const xmlDoc = parser.parseFromString(xmlText, 'text/xml');
			const articleNodes = xmlDoc.querySelectorAll('PubmedArticle');
			
			// Extract full name and departments
			let fullName = authorName;
			const departments = {};
			const articles = [];
			
			articleNodes.forEach(articleNode => {
				try {
					// Find the author and get full name
					const authorNodes = articleNode.querySelectorAll('Author');
					authorNodes.forEach(authorNode => {
						const lastNameNode = authorNode.querySelector('LastName');
						const foreNameNode = authorNode.querySelector('ForeName');
						const lastName = lastNameNode ? lastNameNode.textContent : '';
						const foreName = foreNameNode ? foreNameNode.textContent : '';
						
						// Check if this matches our author
						if (lastName && foreName && authorName.includes(lastName)) {
							fullName = `${foreName} ${lastName}`;
							
							// Extract department from affiliation
							const affiliationNodes = authorNode.querySelectorAll('Affiliation');
							affiliationNodes.forEach(affNode => {
								const affText = affNode.textContent;
								if (affText.toLowerCase().includes('rochester')) {
									// Try to extract department name
									const deptMatch = affText.match(/Department of ([^,;.]+)/i);
									if (deptMatch) {
										const dept = deptMatch[1].trim();
										departments[dept] = (departments[dept] || 0) + 1;
									}
								}
							});
						}
					});
					
					// Parse article details
					const pmidNode = articleNode.querySelector('PMID');
					const pmid = pmidNode ? pmidNode.textContent : '';
					
					const titleNode = articleNode.querySelector('ArticleTitle');
					const title = titleNode ? titleNode.textContent : 'No title';
					
					const journalNode = articleNode.querySelector('Journal Title');
					let journal = journalNode ? journalNode.textContent : '';
					if (!journal || journal.split(/\s+/).length > 5) {
						const isoAbbrevNode = articleNode.querySelector('ISOAbbreviation');
						if (isoAbbrevNode) journal = isoAbbrevNode.textContent;
					}
					
					const yearNode = articleNode.querySelector('PubDate Year');
					const year = yearNode ? yearNode.textContent : '';
					
					const monthNode = articleNode.querySelector('PubDate Month');
					const month = monthNode ? monthNode.textContent : '';
					
					let pubdate = '';
					if (year && month) {
						pubdate = `${month} ${year}`;
					} else if (year) {
						pubdate = year;
					}
					
					const authorNodesAll = articleNode.querySelectorAll('Author');
					const authorsArray = [];
					authorNodesAll.forEach(an => {
						const ln = an.querySelector('LastName');
						const fn = an.querySelector('ForeName');
						if (ln && fn) {
							const initials = fn.textContent.split(' ').map(n => n[0]).join('');
							authorsArray.push(`${ln.textContent} ${initials}`);
						}
					});
					let authorsDisplay = authorsArray.join(', ');
					if (authorsArray.length > 15) {
						authorsDisplay = authorsArray.slice(0, 14).join(', ') + ', et al.';
					}
					
					articles.push({
						pmid,
						title,
						journal,
						year,
						pubdate,
						authors: authorsDisplay,
						url: `https://pubmed.ncbi.nlm.nih.gov/${pmid}/`
					});
					
				} catch (error) {
					console.error('Error parsing article:', error);
				}
			});
			
			// Sort by year (most recent first)
			articles.sort((a, b) => {
				const yearA = parseInt(a.year) || 0;
				const yearB = parseInt(b.year) || 0;
				return yearB - yearA;
			});
			
			// Find most common department
			let primaryDepartment = 'â€”';
			let maxCount = 0;
			for (const [dept, count] of Object.entries(departments)) {
				if (count > maxCount) {
					maxCount = count;
					primaryDepartment = dept;
				}
			}
			
			// Display stats with actual total count
			title.textContent = fullName;
			document.getElementById('authorPubCount').textContent = totalCount.toLocaleString();
			document.getElementById('authorDepartment').textContent = primaryDepartment;
			
			// Update bibliography header
			const bibHeader = document.getElementById('authorBibHeader');
			if (articles.length < totalCount) {
				bibHeader.textContent = `Recent Publications (showing ${articles.length} of ${totalCount})`;
			} else {
				bibHeader.textContent = `Recent Publications`;
			}
			
			statsDiv.style.display = 'block';
			
			// Display bibliography with numbering
			let bibliographyHTML = '';
			articles.forEach((article, index) => {
				const citation = generateMLACitation(article);
				bibliographyHTML += `<li><strong style="color: #3498db; margin-right: 8px;">${index + 1}.</strong>${citation}</li>`;
			});
			
			bibliography.innerHTML = bibliographyHTML;
			loading.style.display = 'none';
			
		} catch (error) {
			console.error('Error fetching author bibliography:', error);
			bibliography.innerHTML = '<li style="color: #e74c3c; text-align: center; padding: 40px;">Error loading publications. Please try again.</li>';
			loading.style.display = 'none';
		}
	}
	
	function generateMLACitation(article) {
		// Format: Authors. "Title." Journal, Month Year.
		const dateStr = article.pubdate || article.year || 'n.d.';
		return `${article.authors}. "${article.title}" <span class="pub-journal">${article.journal}</span>, <span class="pub-year">${dateStr}</span>. <a href="${article.url}" target="_blank" style="color: #3498db;">PubMed</a>`;
	}
	
	function closeAuthorModal() {
		document.getElementById('authorModal').style.display = 'none';
	}

	// Set up event listeners after DOM is loaded
	document.addEventListener('DOMContentLoaded', async function() {
		// Load and render leaderboard data from CSV
		const data = await loadLeaderboardData();
		if (data) {
			renderLeaderboardLists(data);
		}
		
		// Close button for author modal
		const authorModalCloseBtn = document.getElementById('authorModalCloseBtn');
		if (authorModalCloseBtn) {
			authorModalCloseBtn.addEventListener('click', closeAuthorModal);
		}

		// Close modal when clicking outside
		const authorModal = document.getElementById('authorModal');
		authorModal.addEventListener('click', function(e) {
			if (e.target === authorModal) closeAuthorModal();
		});
	});
	</script>

</body>
</html>
